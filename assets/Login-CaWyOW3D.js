import{_ as m,r as i,c as _,b as s,x as f,f as d,g as u,h as p,y as w,o as h,p as g,k as I,i as x}from"./index-Bu_igz9o.js";const l=a=>(g("data-v-3dfad7a4"),a=a(),I(),a),y={class:"main-auth-div"},b={class:"registration-div"},U=l(()=>s("h1",null,"Login",-1)),k=l(()=>s("label",{for:"username"},"Username",-1)),D=l(()=>s("label",{for:"password"},"Password",-1)),S={__name:"Login",setup(a){const o=i(""),n=i("");i(null);const c=x("getUserId"),v=async()=>{try{const t=await p.post("/api/login",{username:o.value,password:n.value});if(t.status>=200&&t.status<=209){o.value="",n.value="";const e=await p.get("https://anime-vue-go-client-production.up.railway.app/validate",{withCredentials:!0});e.status>=200&&e.status<=209&&(c(e.data.ID),console.log(e.data.ID),await w.push({name:"Profile",params:{userId:e.data.ID}}))}}catch(t){console.error(t)}};return(t,e)=>(h(),_("section",null,[s("div",y,[s("div",b,[U,s("form",{onSubmit:e[2]||(e[2]=f(()=>{},["prevent"]))},[s("div",null,[k,d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),type:"text",id:"username",placeholder:"utente123"},null,512),[[u,o.value]])]),s("div",null,[D,d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.value=r),type:"password",id:"password",placeholder:"••••••••"},null,512),[[u,n.value]])]),s("button",{type:"submit",onClick:v},"Entra")],32)])])]))}},L=m(S,[["__scopeId","data-v-3dfad7a4"]]);export{L as default};
