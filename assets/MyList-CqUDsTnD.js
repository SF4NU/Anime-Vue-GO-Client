import{_ as s2,r as l,z as a2,c as o,b as t,F as i2,d as l2,s as n2,h as L,o as s,t as h,e as n,u as S,q as F,f as D,v as r2,g as I,p as d2,k as c2}from"./index-C7u6g-p0.js";const u2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.4465%2017.1839L8.09636%2010.6556C7.52315%209.06338%209.06333%207.5232%2010.6556%208.09641L17.1839%2010.4466C19.118%2011.1429%2018.8694%2013.9539%2016.843%2014.2998L16.0671%2014.4323C15.2305%2014.5752%2014.5751%2015.2305%2014.4323%2016.0672L14.2998%2016.8431C13.9538%2018.8694%2011.1428%2019.1181%2010.4465%2017.1839Z'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%204V3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2010H3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204L6%206'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",v2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Z="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM15.75%2012C15.75%2012.4142%2015.4142%2012.75%2015%2012.75H9C8.58579%2012.75%208.25%2012.4142%208.25%2012C8.25%2011.5858%208.58579%2011.25%209%2011.25H15C15.4142%2011.25%2015.75%2011.5858%2015.75%2012Z'%20fill='%23193d5d'/%3e%3c/g%3e%3c/svg%3e",N="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eplus-circle%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-466.000000,%20-1089.000000)'%20fill='%23193d5d'%3e%3cpath%20d='M488,1106%20L483,1106%20L483,1111%20C483,1111.55%20482.553,1112%20482,1112%20C481.447,1112%20481,1111.55%20481,1111%20L481,1106%20L476,1106%20C475.447,1106%20475,1105.55%20475,1105%20C475,1104.45%20475.447,1104%20476,1104%20L481,1104%20L481,1099%20C481,1098.45%20481.447,1098%20482,1098%20C482.553,1098%20483,1098.45%20483,1099%20L483,1104%20L488,1104%20C488.553,1104%20489,1104.45%20489,1105%20C489,1105.55%20488.553,1106%20488,1106%20L488,1106%20Z%20M482,1089%20C473.163,1089%20466,1096.16%20466,1105%20C466,1113.84%20473.163,1121%20482,1121%20C490.837,1121%20498,1113.84%20498,1105%20C498,1096.16%20490.837,1089%20482,1089%20L482,1089%20Z'%20id='plus-circle'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",p2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23193d5d'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M%204.1056%2017.0898%20L%2051.8944%2017.0898%20C%2054.5430%2017.0898%2055.8788%2015.5196%2055.8788%2012.8945%20L%2055.8788%2010.6211%20C%2055.8788%207.9961%2054.5430%206.4258%2051.8944%206.4258%20L%204.1056%206.4258%20C%201.5977%206.4258%20.1212%207.9961%20.1212%2010.6211%20L%20.1212%2012.8945%20C%20.1212%2015.5196%201.4571%2017.0898%204.1056%2017.0898%20Z%20M%2015.7071%2049.5742%20L%2040.2930%2049.5742%20C%2044.9104%2049.5742%2046.7617%2047.1367%2047.4414%2042.5899%20L%2050.7932%2020.2774%20L%205.2305%2020.2774%20L%208.5587%2042.5899%20C%209.2618%2047.1602%2011.0899%2049.5742%2015.7071%2049.5742%20Z%20M%2021.2618%2042.3320%20C%2020.2071%2042.3320%2019.3868%2041.4649%2019.3868%2040.4336%20C%2019.3868%2039.9180%2019.5977%2039.4961%2019.9493%2039.1445%20L%2025.3399%2033.7071%20L%2019.9493%2028.2461%20C%2019.5977%2027.9180%2019.3868%2027.4727%2019.3868%2026.9571%20C%2019.3868%2025.9492%2020.2305%2025.1289%2021.2618%2025.1289%20C%2021.7540%2025.1289%2022.1758%2025.3398%2022.5274%2025.6680%20L%2027.9883%2031.1055%20L%2033.4727%2025.6445%20C%2033.8712%2025.2930%2034.2696%2025.0820%2034.7383%2025.0820%20C%2035.7930%2025.0820%2036.6368%2025.9023%2036.6368%2026.9571%20C%2036.6368%2027.4492%2036.4258%2027.8477%2036.0508%2028.2227%20L%2030.6368%2033.7071%20L%2036.0274%2039.1211%20C%2036.3790%2039.4961%2036.6134%2039.8945%2036.6134%2040.4336%20C%2036.6134%2041.4649%2035.7696%2042.3320%2034.7383%2042.3320%20C%2034.1993%2042.3320%2033.7774%2042.0742%2033.4258%2041.7461%20L%2027.9883%2036.3320%20L%2022.5508%2041.7461%20C%2022.2227%2042.0977%2021.7540%2042.3320%2021.2618%2042.3320%20Z'/%3e%3c/g%3e%3c/svg%3e",A="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM16.0303%208.96967C16.3232%209.26256%2016.3232%209.73744%2016.0303%2010.0303L11.0303%2015.0303C10.7374%2015.3232%2010.2626%2015.3232%209.96967%2015.0303L7.96967%2013.0303C7.67678%2012.7374%207.67678%2012.2626%207.96967%2011.9697C8.26256%2011.6768%208.73744%2011.6768%209.03033%2011.9697L10.5%2013.4393L12.7348%2011.2045L14.9697%208.96967C15.2626%208.67678%2015.7374%208.67678%2016.0303%208.96967Z'%20fill='%231C274C'/%3e%3c/g%3e%3c/svg%3e",B="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20opacity='0.15'%20d='M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20fill='%23193d5d'/%3e%3cpath%20d='M16%208L8%2016M8.00001%208L16%2016M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20stroke='%23193d5d'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",v=G=>(d2("data-v-eae1d004"),G=G(),c2(),G),h2=v(()=>t("h1",null,"My list",-1)),g2={class:"anime-container"},_2={key:0,class:"anime-card-wrap"},w2={key:0},C2={class:"completed-div"},m2=v(()=>t("span",null,"Finito: ",-1)),k2=["src"],f2={class:"dates-div"},x2={key:0},V2=v(()=>t("br",null,null,-1)),S2={key:1},G2={key:1,class:"plan-to-watch-div"},y2=v(()=>t("span",null," Da vedere ?",-1)),L2=["src"],D2={key:2,class:"comment-div"},T2=["data-comment"],R2=v(()=>t("img",{height:"25px",src:u2,alt:""},null,-1)),b2={key:0,class:"show-comment"},M2={class:"edit-div"},I2=["onClick"],B2={key:1,class:"edit-div-wrapper"},U2={key:0,class:"edit-div"},j2=["onClick","src"],E2={class:"title-div"},P2={key:1,class:"check-if-plan-to-watch"},F2={class:"checkbox-wrapper-58"},Z2={class:"switch"},N2=v(()=>t("span",{class:"slider"},null,-1)),A2=v(()=>t("h4",null,"Anime da vedere",-1)),$2={key:2,class:"add-values-div"},O2=v(()=>t("div",{class:"episodes-title-div"},[t("h4",null,"Episodi guardati")],-1)),W2={class:"add-episodes-div"},Y2={key:3,class:"add-values-div"},z2=v(()=>t("div",{class:"rating-title-div"},[t("h4",null,"Voto")],-1)),H2={class:"rating-div"},q2={key:4,class:"edit-comment-div"},Q2={class:"text-area-div"},J2={key:1},K2={key:5,class:"date-div"},X2=v(()=>t("h5",null,"Data di inizio (opz.)",-1)),e0={key:0},t0={key:6,class:"submit-anime-div"},o0={key:7,class:"remove-anime-div","data-remove":"Rimuovi dalla lista"},s0={key:8,class:"loader-wrapper"},a0=v(()=>t("div",{class:"loader"},null,-1)),i0=[a0],l0={__name:"MyList",setup(G){const $=n2(),O=l($.params.userId),U=l(!1),c=l(null),W=l(!1),_=l(null),r=l(0),p=l(1),w=l(!1),C=l(""),m=l(""),g=l(!1),T=l(null),d=l(!1),y=l(!1),k=l(""),R=l(0);l(""),l("");const Y=l([]),z=l(""),f=l(null),b=()=>{r.value=0,p.value=1,w.value=!1,C.value="",m.value="",g.value=!1,k.value="",g.value=!1},H=()=>{y.value=!y.value},q=()=>{R.value=k.value.length},j=e=>e.split("-").reverse().join("-"),E=async(e,a)=>{if(_.value===e){_.value=null,b();return}_.value=e,b(),T.value=c.value[e].ID,r.value=c.value[e].episodes,p.value=c.value[e].rating,k.value=c.value[e].comment,R.value=c.value[e].comment.length,C.value=j(c.value[e].starting_date),m.value=j(c.value[e].ending_date),g.value=c.value[e].plan_to_watch,d.value=!0,await o2(a),x(f.value.attributes.episodeCount),d.value=!1},x=e=>{if(r.value>e-1||r.value==="Finito"){w.value=!0,r.value!=="Finito"&&(r.value="Finito"),f.value.attributes.episodeCount===1&&(r.value=1);return}w.value=!1},Q=e=>{if(r.value>=e-1||r.value==="Finito"){r.value="Finito",x(e);return}x(e),r.value++},J=e=>{if(r.value<=0){r.value=0,x(e);return}if(r.value==="Finito"){r.value=e-1,x(e);return}r.value--,x(e)},K=()=>{if(p.value>=10){p.value=10;return}p.value+=.5},X=()=>{if(p.value<=1){p.value=1;return}p.value-=.5},M=async()=>{try{const e=await L.get(`https://anime-vue-go-client-production.up.railway.app/users/${O.value}/anime`,{withCredentials:!0});e.status>=200&&e.status<=209&&(c.value=e.data.sort((a,i)=>a.title.localeCompare(i.title)),Y.value=c.value.map(a=>a.title),_.value=null,d.value=!1)}catch(e){console.error(e)}},P=e=>e.split("-").reverse().join("-"),e2=async()=>{try{d.value=!0;const e=await L.put(`https://anime-vue-go-client-production.up.railway.app/update/anime/${T.value}`,{episodes:r.value==="Finito"?f.value.attributes.episodeCount:r.value,rating:p.value,finished:w.value,starting_date:C.value!==""?P(C.value):"",ending_date:m.value!==""&&w.value?P(m.value):"",plan_to_watch:g.value,comment:k.value},{withCredentials:!0});e.status>=200&&e.status<=209&&(M(),_.value=null),d.value=!1}catch(e){console.error(e)}},t2=async()=>{try{d.value=!0;const e=await L.delete(`https://anime-vue-go-client-production.up.railway.app/delete/anime/${T.value}`,{withCredentials:!0});e.status>=200&&e.status<=209&&M()}catch(e){console.error(e),d.value=!1}};a2(()=>{U.value||(U.value=!0,M())});const o2=async e=>{try{const a=await L.get(`https://kitsu.io/api/edge/anime?filter[id]=${e}&page[limit]=1`);f.value=a.data.data[0]}catch(a){console.error(a)}};return(e,a)=>(s(),o("section",null,[h2,t("div",g2,[(s(!0),o(i2,null,l2(c.value,(i,V)=>(s(),o("div",{key:V,class:"anime-card"},[_.value!==V&&i.title!==z.value?(s(),o("div",_2,[t("h2",null,h(i.title),1),t("div",null,[t("span",null," Episodi guardati: "+h(i.episodes),1)]),i.plan_to_watch?n("",!0):(s(),o("div",w2,[t("span",null," Voto assegnato: "+h(i.rating),1)])),t("div",C2,[m2,t("img",{height:"20px",src:i.finished?S(A):S(B),alt:""},null,8,k2)]),t("div",f2,[i.starting_date!==""?(s(),o("span",x2," Inizio: "+h(i.starting_date),1)):n("",!0),V2,!i.plan_to_watch&&i.finished?(s(),o("span",S2," Fine: "+h(i.ending_date),1)):n("",!0)]),!i.finished&&i.plan_to_watch?(s(),o("div",G2,[y2,F("  "),t("img",{height:"20px",src:i.plan_to_watch?S(A):S(B),alt:""},null,8,L2)])):n("",!0),i.comment!==""?(s(),o("div",D2,[t("button",{class:"comment-button","data-comment":i.comment},[F(" Nota   "),R2],8,T2),W.value?(s(),o("p",b2,h(i.comment),1)):n("",!0)])):n("",!0),t("div",M2,[t("img",{onClick:u=>E(V,i.anime_id),height:"25px",src:v2,alt:""},null,8,I2)])])):n("",!0),_.value===V?(s(),o("div",B2,[d.value?n("",!0):(s(),o("div",U2,[t("img",{onClick:u=>E(V),height:"25px",src:S(B),alt:"cross-icon"},null,8,j2)])),t("div",E2,[t("h2",null,h(i.title),1)]),d.value?n("",!0):(s(),o("div",P2,[t("div",F2,[t("label",Z2,[D(t("input",{onClick:b,type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=u=>g.value=u)},null,512),[[r2,g.value]]),N2])]),A2])),!g.value&&!d.value?(s(),o("div",$2,[O2,t("div",W2,[t("img",{height:"30px",src:Z,onClick:a[1]||(a[1]=u=>J(f.value.attributes.episodeCount)),alt:"minus-svg"}),t("span",null,h(r.value),1),t("img",{height:"25px",src:N,onClick:a[2]||(a[2]=u=>Q(f.value.attributes.episodeCount)),alt:"plus-svg"})])])):n("",!0),!g.value&&!d.value?(s(),o("div",Y2,[z2,t("div",H2,[t("img",{height:"30px",src:Z,onClick:X,alt:"minus-svg"}),t("span",null,h(p.value),1),t("img",{height:"25px",src:N,onClick:K,alt:"plus-svg"})])])):n("",!0),d.value?n("",!0):(s(),o("div",q2,[t("button",{onClick:H},"Nota"),t("div",Q2,[y.value?D((s(),o("textarea",{key:0,onInput:q,maxlength:"200","onUpdate:modelValue":a[3]||(a[3]=u=>k.value=u),name:"comment",id:"comment",cols:"20",rows:"5",placeholder:"Questo anime mi è piaciuto/non mi è piaciuto perché..."},`\r
              `,544)),[[I,k.value]]):n("",!0),y.value?(s(),o("span",J2,h(R.value)+"/200",1)):n("",!0)])])),d.value?n("",!0):(s(),o("div",K2,[X2,D(t("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=u=>C.value=u),min:"2000-01-01",max:"2025-12-31"},null,512),[[I,C.value]]),w.value?(s(),o("h5",e0,"Data di fine (opz.)")):n("",!0),w.value?D((s(),o("input",{key:1,type:"date","onUpdate:modelValue":a[5]||(a[5]=u=>m.value=u),min:"2000-01-01",max:"2025-12-31"},null,512)),[[I,m.value]]):n("",!0)])),d.value?n("",!0):(s(),o("div",t0,[t("button",{onClick:e2},"Modifica")])),d.value?n("",!0):(s(),o("div",o0,[t("img",{onClick:t2,height:"30px",src:p2,alt:""})])),d.value?(s(),o("div",s0,i0)):n("",!0)])):n("",!0)]))),128))])]))}},r0=s2(l0,[["__scopeId","data-v-eae1d004"]]);export{r0 as default};
