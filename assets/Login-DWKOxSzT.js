import{_ as m,r as i,c as _,b as t,x as w,f as u,g as d,h as p,y as h,o as f,p as g,k as I,i as y}from"./index-CFhqYD8y.js";const l=a=>(g("data-v-071ce0a4"),a=a(),I(),a),x={class:"main-auth-div"},b={class:"registration-div"},U=l(()=>t("h1",null,"Login",-1)),k=l(()=>t("label",{for:"username"},"Username",-1)),D=l(()=>t("label",{for:"password"},"Password",-1)),S={__name:"Login",setup(a){const o=i(""),n=i("");i(null);const c=y("getUserId"),v=async()=>{try{const s=await p.post("https://anime-vue-go-client-production.up.railway.app/login",{username:o.value,password:n.value},{withCredentials:!0});if(s.status>=200&&s.status<=209){o.value="",n.value="";const e=await p.get("https://anime-vue-go-client-production.up.railway.app/validate",{withCredentials:!0});e.status>=200&&e.status<=209&&(c(e.data.ID),console.log(e.data.ID),await h.push({name:"Profile",params:{userId:e.data.ID}}))}}catch(s){console.error(s)}};return(s,e)=>(f(),_("section",null,[t("div",x,[t("div",b,[U,t("form",{onSubmit:e[2]||(e[2]=w(()=>{},["prevent"]))},[t("div",null,[k,u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),type:"text",id:"username",placeholder:"utente123"},null,512),[[d,o.value]])]),t("div",null,[D,u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.value=r),type:"password",id:"password",placeholder:"••••••••"},null,512),[[d,n.value]])]),t("button",{type:"submit",onClick:v},"Entra")],32)])])]))}},C=m(S,[["__scopeId","data-v-071ce0a4"]]);export{C as default};
