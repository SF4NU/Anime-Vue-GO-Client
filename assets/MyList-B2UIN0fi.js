import{_ as X,r as n,z as e2,c as s,b as e,F as t2,d as o2,s as s2,h as T,o as i,t as p,u as x,e as l,q as F,f as y,v as i2,g as M,p as a2,k as n2}from"./index-B4oaf9oS.js";const l2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.4465%2017.1839L8.09636%2010.6556C7.52315%209.06338%209.06333%207.5232%2010.6556%208.09641L17.1839%2010.4466C19.118%2011.1429%2018.8694%2013.9539%2016.843%2014.2998L16.0671%2014.4323C15.2305%2014.5752%2014.5751%2015.2305%2014.4323%2016.0672L14.2998%2016.8431C13.9538%2018.8694%2011.1428%2019.1181%2010.4465%2017.1839Z'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%204V3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2010H3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204L6%206'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",r2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",N="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM15.75%2012C15.75%2012.4142%2015.4142%2012.75%2015%2012.75H9C8.58579%2012.75%208.25%2012.4142%208.25%2012C8.25%2011.5858%208.58579%2011.25%209%2011.25H15C15.4142%2011.25%2015.75%2011.5858%2015.75%2012Z'%20fill='%23193d5d'/%3e%3c/g%3e%3c/svg%3e",A="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eplus-circle%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-466.000000,%20-1089.000000)'%20fill='%23193d5d'%3e%3cpath%20d='M488,1106%20L483,1106%20L483,1111%20C483,1111.55%20482.553,1112%20482,1112%20C481.447,1112%20481,1111.55%20481,1111%20L481,1106%20L476,1106%20C475.447,1106%20475,1105.55%20475,1105%20C475,1104.45%20475.447,1104%20476,1104%20L481,1104%20L481,1099%20C481,1098.45%20481.447,1098%20482,1098%20C482.553,1098%20483,1098.45%20483,1099%20L483,1104%20L488,1104%20C488.553,1104%20489,1104.45%20489,1105%20C489,1105.55%20488.553,1106%20488,1106%20L488,1106%20Z%20M482,1089%20C473.163,1089%20466,1096.16%20466,1105%20C466,1113.84%20473.163,1121%20482,1121%20C490.837,1121%20498,1113.84%20498,1105%20C498,1096.16%20490.837,1089%20482,1089%20L482,1089%20Z'%20id='plus-circle'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",d2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23193d5d'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M%204.1056%2017.0898%20L%2051.8944%2017.0898%20C%2054.5430%2017.0898%2055.8788%2015.5196%2055.8788%2012.8945%20L%2055.8788%2010.6211%20C%2055.8788%207.9961%2054.5430%206.4258%2051.8944%206.4258%20L%204.1056%206.4258%20C%201.5977%206.4258%20.1212%207.9961%20.1212%2010.6211%20L%20.1212%2012.8945%20C%20.1212%2015.5196%201.4571%2017.0898%204.1056%2017.0898%20Z%20M%2015.7071%2049.5742%20L%2040.2930%2049.5742%20C%2044.9104%2049.5742%2046.7617%2047.1367%2047.4414%2042.5899%20L%2050.7932%2020.2774%20L%205.2305%2020.2774%20L%208.5587%2042.5899%20C%209.2618%2047.1602%2011.0899%2049.5742%2015.7071%2049.5742%20Z%20M%2021.2618%2042.3320%20C%2020.2071%2042.3320%2019.3868%2041.4649%2019.3868%2040.4336%20C%2019.3868%2039.9180%2019.5977%2039.4961%2019.9493%2039.1445%20L%2025.3399%2033.7071%20L%2019.9493%2028.2461%20C%2019.5977%2027.9180%2019.3868%2027.4727%2019.3868%2026.9571%20C%2019.3868%2025.9492%2020.2305%2025.1289%2021.2618%2025.1289%20C%2021.7540%2025.1289%2022.1758%2025.3398%2022.5274%2025.6680%20L%2027.9883%2031.1055%20L%2033.4727%2025.6445%20C%2033.8712%2025.2930%2034.2696%2025.0820%2034.7383%2025.0820%20C%2035.7930%2025.0820%2036.6368%2025.9023%2036.6368%2026.9571%20C%2036.6368%2027.4492%2036.4258%2027.8477%2036.0508%2028.2227%20L%2030.6368%2033.7071%20L%2036.0274%2039.1211%20C%2036.3790%2039.4961%2036.6134%2039.8945%2036.6134%2040.4336%20C%2036.6134%2041.4649%2035.7696%2042.3320%2034.7383%2042.3320%20C%2034.1993%2042.3320%2033.7774%2042.0742%2033.4258%2041.7461%20L%2027.9883%2036.3320%20L%2022.5508%2041.7461%20C%2022.2227%2042.0977%2021.7540%2042.3320%2021.2618%2042.3320%20Z'/%3e%3c/g%3e%3c/svg%3e",O="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM16.0303%208.96967C16.3232%209.26256%2016.3232%209.73744%2016.0303%2010.0303L11.0303%2015.0303C10.7374%2015.3232%2010.2626%2015.3232%209.96967%2015.0303L7.96967%2013.0303C7.67678%2012.7374%207.67678%2012.2626%207.96967%2011.9697C8.26256%2011.6768%208.73744%2011.6768%209.03033%2011.9697L10.5%2013.4393L12.7348%2011.2045L14.9697%208.96967C15.2626%208.67678%2015.7374%208.67678%2016.0303%208.96967Z'%20fill='%231C274C'/%3e%3c/g%3e%3c/svg%3e",b="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20opacity='0.15'%20d='M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20fill='%23193d5d'/%3e%3cpath%20d='M16%208L8%2016M8.00001%208L16%2016M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20stroke='%23193d5d'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",u=V=>(a2("data-v-6df1c080"),V=V(),n2(),V),c2=u(()=>e("h1",null,"My list",-1)),u2={class:"anime-container"},v2={key:0,class:"anime-card-wrap"},p2={class:"completed-div"},g2=u(()=>e("span",null,"Finito: ",-1)),h2=["src"],w2={class:"dates-div"},_2=u(()=>e("br",null,null,-1)),C2={key:0},m2={key:0,class:"plan-to-watch-div"},k2=u(()=>e("span",null," Da vedere ?",-1)),f2=["src"],x2={class:"comment-div"},V2=["data-comment"],S2=u(()=>e("img",{height:"25px",src:l2,alt:""},null,-1)),G2={key:0,class:"show-comment"},L2={class:"edit-div"},y2=["onClick"],D2={key:1,class:"edit-div-wrapper"},R2={key:0,class:"edit-div"},T2=["onClick","src"],M2={class:"title-div"},b2={key:1,class:"check-if-plan-to-watch"},I2={class:"checkbox-wrapper-58"},U2={class:"switch"},B2=u(()=>e("span",{class:"slider"},null,-1)),j2=u(()=>e("h4",null,"Anime da vedere",-1)),E2={key:2,class:"add-values-div"},P2=u(()=>e("div",{class:"episodes-title-div"},[e("h4",null,"Episodi guardati")],-1)),Z2={class:"add-episodes-div"},F2={key:3,class:"add-values-div"},N2=u(()=>e("div",{class:"rating-title-div"},[e("h4",null,"Voto")],-1)),A2={class:"rating-div"},O2={key:4,class:"edit-comment-div"},W2={class:"text-area-div"},Y2={key:1},$2={key:5,class:"date-div"},z2=u(()=>e("h5",null,"Data di inizio (opz.)",-1)),H2={key:0},q2={key:6,class:"submit-anime-div"},Q2=u(()=>e("div",{class:"remove-anime-div","data-remove":"Rimuovi dalla lista"},[e("img",{height:"30px",src:d2,alt:""})],-1)),J2={key:7,class:"loader-wrapper"},K2=u(()=>e("div",{class:"loader"},null,-1)),X2=[K2],e0={__name:"MyList",setup(V){const W=s2(),Y=n(W.params.userId),I=n(!1),v=n(null),$=n(!1),h=n(null),a=n(0),S=n(1),w=n(!1),_=n(""),C=n(""),g=n(!1),U=n(""),B=n(null),c=n(!1),G=n(!1),L=n(""),D=n(0),k=n(null),R=()=>{a.value=0,S.value=1,w.value=!1,_.value="",C.value="",g.value=!1,U.value="",g.value=!1},z=()=>{G.value=!G.value},H=()=>{D.value=L.value.length},j=t=>t.split("-").reverse().join("-"),E=async(t,o)=>{if(h.value===t){h.value=null,R();return}h.value=t,R(),B.value=v.value[t].ID,a.value=v.value[t].episodes,S.value=v.value[t].rating,L.value=v.value[t].comment,D.value=v.value[t].comment.length,_.value=j(v.value[t].starting_date),C.value=j(v.value[t].ending_date),g.value=v.value[t].plan_to_watch,c.value=!0,await K(o),m(k.value.attributes.episodeCount),c.value=!1},m=t=>{if(a.value>t-1||a.value==="Finito"){w.value=!0,a.value!=="Finito"&&(a.value="Finito"),k.value.attributes.episodeCount===1&&(a.value=1);return}w.value=!1},q=t=>{if(a.value>=t-1||a.value==="Finito"){a.value="Finito",m(t);return}m(t),a.value++},Q=t=>{if(a.value<=0){a.value=0,m(t);return}if(a.value==="Finito"){a.value=t-1,m(t);return}a.value--,m(t)},P=async()=>{try{const t=await T.get(`https://anime-vue-go-client-production.up.railway.app/users/${Y.value}/anime`,{withCredentials:!0});t.status>=200&&t.status<=209&&(v.value=t.data,console.log(t.data))}catch(t){console.error(t)}},Z=t=>t.split("-").reverse().join("-"),J=()=>{try{c.value=!0;const t=T.put(`https://anime-vue-go-client-production.up.railway.app/update/anime/${B.value}`,{episodes:a.value,rating:S.value,finished:w.value,starting_date:_.value!==""?Z(_.value):"",ending_date:C.value!==""?Z(C.value):"",plan_to_watch:g.value,comment:U.value},{withCredentials:!0});c.value=!1,console.log(t),P(),h.value=null}catch(t){console.error(t)}};e2(()=>{I.value||(I.value=!0,P())});const K=async t=>{try{const o=await T.get(`https://kitsu.io/api/edge/anime?filter[id]=${t}&page[limit]=1`);k.value=o.data.data[0]}catch(o){console.error(o)}};return(t,o)=>(i(),s("section",null,[c2,e("div",u2,[(i(!0),s(t2,null,o2(v.value,(r,f)=>(i(),s("div",{key:f,class:"anime-card"},[h.value!==f?(i(),s("div",v2,[e("h2",null,p(r.title),1),e("div",null,[e("span",null," Episodi guardati: "+p(r.episodes),1)]),e("div",null,[e("span",null," Voto assegnato: "+p(r.rating),1)]),e("div",p2,[g2,e("img",{height:"20px",src:r.finished?x(O):x(b),alt:""},null,8,h2)]),e("div",w2,[e("span",null," Inizio: "+p(r.starting_date),1),_2,!r.plan_to_watch&&r.finished?(i(),s("span",C2," Fine: "+p(r.ending_date),1)):l("",!0)]),!r.finished&&r.plan_to_watch?(i(),s("div",m2,[k2,F("  "),e("img",{height:"20px",src:r.plan_to_watch?x(O):x(b),alt:""},null,8,f2)])):l("",!0),e("div",x2,[e("button",{class:"comment-button","data-comment":r.comment},[F(" Nota   "),S2],8,V2),$.value?(i(),s("p",G2,p(r.comment),1)):l("",!0)]),e("div",L2,[e("img",{onClick:d=>E(f,r.anime_id),height:"25px",src:r2,alt:""},null,8,y2)])])):l("",!0),h.value===f?(i(),s("div",D2,[c.value?l("",!0):(i(),s("div",R2,[e("img",{onClick:d=>E(f),height:"25px",src:x(b),alt:"cross-icon"},null,8,T2)])),e("div",M2,[e("h2",null,p(r.title),1)]),c.value?l("",!0):(i(),s("div",b2,[e("div",I2,[e("label",U2,[y(e("input",{onClick:R,type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=d=>g.value=d)},null,512),[[i2,g.value]]),B2])]),j2])),!g.value&&!c.value?(i(),s("div",E2,[P2,e("div",Z2,[e("img",{height:"30px",src:N,onClick:o[1]||(o[1]=d=>Q(k.value.attributes.episodeCount)),alt:"minus-svg"}),e("span",null,p(a.value),1),e("img",{height:"25px",src:A,onClick:o[2]||(o[2]=d=>q(k.value.attributes.episodeCount)),alt:"plus-svg"})])])):l("",!0),!g.value&&!c.value?(i(),s("div",F2,[N2,e("div",A2,[e("img",{height:"30px",src:N,onClick:o[3]||(o[3]=(...d)=>t.decrementUserRating&&t.decrementUserRating(...d)),alt:"minus-svg"}),e("span",null,p(S.value),1),e("img",{height:"25px",src:A,onClick:o[4]||(o[4]=(...d)=>t.incrementUserRating&&t.incrementUserRating(...d)),alt:"plus-svg"})])])):l("",!0),c.value?l("",!0):(i(),s("div",O2,[e("button",{onClick:z},"Nota"),e("div",W2,[G.value?y((i(),s("textarea",{key:0,onInput:H,maxlength:"200","onUpdate:modelValue":o[5]||(o[5]=d=>L.value=d),name:"comment",id:"comment",cols:"20",rows:"5",placeholder:"Questo anime mi è piaciuto/non mi è piaciuto perché..."},`\r
              `,544)),[[M,L.value]]):l("",!0),G.value?(i(),s("span",Y2,p(D.value)+"/200",1)):l("",!0)])])),c.value?l("",!0):(i(),s("div",$2,[z2,y(e("input",{type:"date","onUpdate:modelValue":o[6]||(o[6]=d=>_.value=d),min:"2000-01-01",max:"2025-12-31"},null,512),[[M,_.value]]),w.value?(i(),s("h5",H2,"Data di fine (opz.)")):l("",!0),w.value?y((i(),s("input",{key:1,type:"date","onUpdate:modelValue":o[7]||(o[7]=d=>C.value=d),min:"2000-01-01",max:"2025-12-31"},null,512)),[[M,C.value]]):l("",!0)])),c.value?l("",!0):(i(),s("div",q2,[e("button",{onClick:J},"Modifica")])),Q2,c.value?(i(),s("div",J2,X2)):l("",!0)])):l("",!0)]))),128))])]))}},o0=X(e0,[["__scopeId","data-v-6df1c080"]]);export{o0 as default};
