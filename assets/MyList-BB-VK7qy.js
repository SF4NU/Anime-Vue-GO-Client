import{_ as Q,r as s,z as J,c as i,b as e,F as K,d as X,s as e2,h as b,o as a,t as u,u as k,e as d,q as I,f as S,v as t2,g as y,p as o2,k as s2}from"./index-C8-sYhyy.js";const i2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.4465%2017.1839L8.09636%2010.6556C7.52315%209.06338%209.06333%207.5232%2010.6556%208.09641L17.1839%2010.4466C19.118%2011.1429%2018.8694%2013.9539%2016.843%2014.2998L16.0671%2014.4323C15.2305%2014.5752%2014.5751%2015.2305%2014.4323%2016.0672L14.2998%2016.8431C13.9538%2018.8694%2011.1428%2019.1181%2010.4465%2017.1839Z'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%204V3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2010H3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204L6%206'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",a2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",U="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM15.75%2012C15.75%2012.4142%2015.4142%2012.75%2015%2012.75H9C8.58579%2012.75%208.25%2012.4142%208.25%2012C8.25%2011.5858%208.58579%2011.25%209%2011.25H15C15.4142%2011.25%2015.75%2011.5858%2015.75%2012Z'%20fill='%23193d5d'/%3e%3c/g%3e%3c/svg%3e",B="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eplus-circle%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-466.000000,%20-1089.000000)'%20fill='%23193d5d'%3e%3cpath%20d='M488,1106%20L483,1106%20L483,1111%20C483,1111.55%20482.553,1112%20482,1112%20C481.447,1112%20481,1111.55%20481,1111%20L481,1106%20L476,1106%20C475.447,1106%20475,1105.55%20475,1105%20C475,1104.45%20475.447,1104%20476,1104%20L481,1104%20L481,1099%20C481,1098.45%20481.447,1098%20482,1098%20C482.553,1098%20483,1098.45%20483,1099%20L483,1104%20L488,1104%20C488.553,1104%20489,1104.45%20489,1105%20C489,1105.55%20488.553,1106%20488,1106%20L488,1106%20Z%20M482,1089%20C473.163,1089%20466,1096.16%20466,1105%20C466,1113.84%20473.163,1121%20482,1121%20C490.837,1121%20498,1113.84%20498,1105%20C498,1096.16%20490.837,1089%20482,1089%20L482,1089%20Z'%20id='plus-circle'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",E="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM16.0303%208.96967C16.3232%209.26256%2016.3232%209.73744%2016.0303%2010.0303L11.0303%2015.0303C10.7374%2015.3232%2010.2626%2015.3232%209.96967%2015.0303L7.96967%2013.0303C7.67678%2012.7374%207.67678%2012.2626%207.96967%2011.9697C8.26256%2011.6768%208.73744%2011.6768%209.03033%2011.9697L10.5%2013.4393L12.7348%2011.2045L14.9697%208.96967C15.2626%208.67678%2015.7374%208.67678%2016.0303%208.96967Z'%20fill='%231C274C'/%3e%3c/g%3e%3c/svg%3e",L="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20opacity='0.15'%20d='M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20fill='%23193d5d'/%3e%3cpath%20d='M16%208L8%2016M8.00001%208L16%2016M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20stroke='%23193d5d'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",c=f=>(o2("data-v-8fa256a8"),f=f(),s2(),f),n2=c(()=>e("h1",null,"My list",-1)),l2={class:"anime-container"},r2={key:0,class:"anime-card-wrap"},d2={class:"completed-div"},c2=c(()=>e("span",null,"Completato: ",-1)),u2=["src"],p2={class:"dates-div"},v2=c(()=>e("br",null,null,-1)),g2={key:0},h2={key:0,class:"plan-to-watch-div"},w2=c(()=>e("span",null," Da vedere ?",-1)),_2=["src"],m2={class:"comment-div"},C2=["data-comment"],k2=c(()=>e("img",{height:"25px",src:i2,alt:""},null,-1)),f2={key:0,class:"show-comment"},x2={class:"edit-div"},V2=["onClick"],S2={key:1,class:"edit-div-wrapper"},G2={key:0,class:"edit-div"},D2=["onClick","src"],y2={class:"title-div"},L2={key:1,class:"check-if-plan-to-watch"},R2={class:"checkbox-wrapper-58"},T2={class:"switch"},M2=c(()=>e("span",{class:"slider"},null,-1)),b2=c(()=>e("h4",null,"Anime da vedere",-1)),I2={key:2,class:"add-values-div"},U2=c(()=>e("div",{class:"episodes-title-div"},[e("h4",null,"Episodi guardati")],-1)),B2={class:"add-episodes-div"},E2={key:3,class:"add-values-div"},P2=c(()=>e("div",{class:"rating-title-div"},[e("h4",null,"Voto")],-1)),j2={class:"rating-div"},N2={key:4,class:"edit-comment-div"},Z2={class:"text-area-div"},A2={key:1},O2={class:"date-div"},W2=c(()=>e("h5",null,"Data di inizio (opz.)",-1)),Y2={key:0},$2={key:5,class:"loader-wrapper"},z2=c(()=>e("div",{class:"loader"},null,-1)),F2=[z2],H2={__name:"MyList",setup(f){const P=e2(),j=s(P.params.userId),R=s(!1),v=s(null),N=s(!1),h=s(null),n=s(0),G=s(1),w=s(!1),Z=s(""),A=s(""),g=s(!1),O=s(""),W=s(null),p=s(!1),x=s(!1),V=s(""),D=s(0),_=s(null),T=()=>{n.value=0,G.value="",w.value=!1,Z.value="",A.value="",g.value=!1,O.value="",g.value=!1},Y=()=>{x.value=!x.value},$=()=>{D.value=V.value.length},M=async(t,o)=>{if(h.value===t){h.value=null,T();return}h.value=t,T(),W.value=v.value[t].ID,n.value=v.value[t].episodes,G.value=v.value[t].rating,V.value=v.value[t].comment,D.value=v.value[t].comment.length,p.value=!0,await q(o),console.log(_.value),p.value=!1},m=t=>{if(n.value>t-1||n.value==="Completato"){w.value=!0,_.value.attributes.episodeCount===1&&(n.value=1);return}w.value=!1},z=t=>{if(n.value>=t-1||n.value==="Completato"){n.value="Completato",m(t);return}m(t),n.value++},F=t=>{if(n.value<=0){n.value=0,m(t);return}if(n.value==="Completato"){n.value=t-1,m(t);return}n.value--,m(t)},H=async()=>{try{const t=await b.get(`https://anime-vue-go-client-production.up.railway.app/users/${j.value}/anime`,{withCredentials:!0});t.status>=200&&t.status<=209&&(v.value=t.data,console.log(t.data))}catch(t){console.error(t)}};J(()=>{R.value||(R.value=!0,H())});const q=async t=>{try{const o=await b.get(`https://kitsu.io/api/edge/anime?filter[id]=${t}&page[limit]=1`);_.value=o.data.data[0]}catch(o){console.error(o)}};return(t,o)=>(a(),i("section",null,[n2,e("div",l2,[(a(!0),i(K,null,X(v.value,(l,C)=>(a(),i("div",{key:C,class:"anime-card"},[h.value!==C?(a(),i("div",r2,[e("h2",null,u(l.title),1),e("div",null,[e("span",null," Episodi guardati: "+u(l.episodes),1)]),e("div",null,[e("span",null," Voto assegnato: "+u(l.rating),1)]),e("div",d2,[c2,e("img",{height:"20px",src:l.finished?k(E):k(L),alt:""},null,8,u2)]),e("div",p2,[e("span",null," Inizio: "+u(l.starting_date),1),v2,!l.plan_to_watch&&l.finished?(a(),i("span",g2," Fine: "+u(l.ending_date),1)):d("",!0)]),!l.finished&&l.plan_to_watch?(a(),i("div",h2,[w2,I("  "),e("img",{height:"20px",src:l.plan_to_watch?k(E):k(L),alt:""},null,8,_2)])):d("",!0),e("div",m2,[e("button",{class:"comment-button","data-comment":l.comment},[I(" Nota   "),k2],8,C2),N.value?(a(),i("p",f2,u(l.comment),1)):d("",!0)]),e("div",x2,[e("img",{onClick:r=>M(C,l.anime_id),height:"25px",src:a2,alt:""},null,8,V2)])])):d("",!0),h.value===C?(a(),i("div",S2,[p.value?d("",!0):(a(),i("div",G2,[e("img",{onClick:r=>M(C),height:"25px",src:k(L),alt:"cross-icon"},null,8,D2)])),e("div",y2,[e("h2",null,u(l.title),1)]),p.value?d("",!0):(a(),i("div",L2,[e("div",R2,[e("label",T2,[S(e("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=r=>g.value=r)},null,512),[[t2,g.value]]),M2])]),b2])),!g.value&&!p.value?(a(),i("div",I2,[U2,e("div",B2,[e("img",{height:"30px",src:U,onClick:o[1]||(o[1]=r=>F(_.value.attributes.episodeCount)),alt:"minus-svg"}),e("span",null,u(n.value),1),e("img",{height:"25px",src:B,onClick:o[2]||(o[2]=r=>z(_.value.attributes.episodeCount)),alt:"plus-svg"})])])):d("",!0),!g.value&&!p.value?(a(),i("div",E2,[P2,e("div",j2,[e("img",{height:"30px",src:U,onClick:o[3]||(o[3]=(...r)=>t.decrementUserRating&&t.decrementUserRating(...r)),alt:"minus-svg"}),e("span",null,u(G.value),1),e("img",{height:"25px",src:B,onClick:o[4]||(o[4]=(...r)=>t.incrementUserRating&&t.incrementUserRating(...r)),alt:"plus-svg"})])])):d("",!0),p.value?d("",!0):(a(),i("div",N2,[e("button",{onClick:Y},"Nota"),e("div",Z2,[x.value?S((a(),i("textarea",{key:0,onInput:$,maxlength:"200","onUpdate:modelValue":o[5]||(o[5]=r=>V.value=r),name:"comment",id:"comment",cols:"20",rows:"5",placeholder:"Questo anime mi è piaciuto/non mi è piaciuto perché..."},`\r
              `,544)),[[y,V.value]]):d("",!0),x.value?(a(),i("span",A2,u(D.value)+"/200",1)):d("",!0)])])),e("div",O2,[W2,S(e("input",{type:"date","onUpdate:modelValue":o[6]||(o[6]=r=>t.startingDate=r),min:"2000-01-01",max:"2025-12-31"},null,512),[[y,t.startingDate]]),w.value?(a(),i("h5",Y2,"Data di fine (opz.)")):d("",!0),w.value?S((a(),i("input",{key:1,type:"date","onUpdate:modelValue":o[7]||(o[7]=r=>t.endingDate=r),min:"2000-01-01",max:"2025-12-31"},null,512)),[[y,t.endingDate]]):d("",!0)]),p.value?(a(),i("div",$2,F2)):d("",!0)])):d("",!0)]))),128))])]))}},Q2=Q(H2,[["__scopeId","data-v-8fa256a8"]]);export{Q2 as default};
