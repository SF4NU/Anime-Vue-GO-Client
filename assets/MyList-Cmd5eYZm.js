import{_ as t2,r as d,z as o2,c as o,b as t,F as s2,d as i2,s as a2,h as L,o as s,t as g,e as i,u as S,q as F,f as D,v as l2,g as I,p as n2,k as r2}from"./index-DBZL0Xy4.js";const d2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.4465%2017.1839L8.09636%2010.6556C7.52315%209.06338%209.06333%207.5232%2010.6556%208.09641L17.1839%2010.4466C19.118%2011.1429%2018.8694%2013.9539%2016.843%2014.2998L16.0671%2014.4323C15.2305%2014.5752%2014.5751%2015.2305%2014.4323%2016.0672L14.2998%2016.8431C13.9538%2018.8694%2011.1428%2019.1181%2010.4465%2017.1839Z'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%204V3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2010H3'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204L6%206'%20stroke='%2343aa8b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",c2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23193d5d'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Z="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM15.75%2012C15.75%2012.4142%2015.4142%2012.75%2015%2012.75H9C8.58579%2012.75%208.25%2012.4142%208.25%2012C8.25%2011.5858%208.58579%2011.25%209%2011.25H15C15.4142%2011.25%2015.75%2011.5858%2015.75%2012Z'%20fill='%23193d5d'/%3e%3c/g%3e%3c/svg%3e",N="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eplus-circle%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-466.000000,%20-1089.000000)'%20fill='%23193d5d'%3e%3cpath%20d='M488,1106%20L483,1106%20L483,1111%20C483,1111.55%20482.553,1112%20482,1112%20C481.447,1112%20481,1111.55%20481,1111%20L481,1106%20L476,1106%20C475.447,1106%20475,1105.55%20475,1105%20C475,1104.45%20475.447,1104%20476,1104%20L481,1104%20L481,1099%20C481,1098.45%20481.447,1098%20482,1098%20C482.553,1098%20483,1098.45%20483,1099%20L483,1104%20L488,1104%20C488.553,1104%20489,1104.45%20489,1105%20C489,1105.55%20488.553,1106%20488,1106%20L488,1106%20Z%20M482,1089%20C473.163,1089%20466,1096.16%20466,1105%20C466,1113.84%20473.163,1121%20482,1121%20C490.837,1121%20498,1113.84%20498,1105%20C498,1096.16%20490.837,1089%20482,1089%20L482,1089%20Z'%20id='plus-circle'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",u2="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23193d5d'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M%204.1056%2017.0898%20L%2051.8944%2017.0898%20C%2054.5430%2017.0898%2055.8788%2015.5196%2055.8788%2012.8945%20L%2055.8788%2010.6211%20C%2055.8788%207.9961%2054.5430%206.4258%2051.8944%206.4258%20L%204.1056%206.4258%20C%201.5977%206.4258%20.1212%207.9961%20.1212%2010.6211%20L%20.1212%2012.8945%20C%20.1212%2015.5196%201.4571%2017.0898%204.1056%2017.0898%20Z%20M%2015.7071%2049.5742%20L%2040.2930%2049.5742%20C%2044.9104%2049.5742%2046.7617%2047.1367%2047.4414%2042.5899%20L%2050.7932%2020.2774%20L%205.2305%2020.2774%20L%208.5587%2042.5899%20C%209.2618%2047.1602%2011.0899%2049.5742%2015.7071%2049.5742%20Z%20M%2021.2618%2042.3320%20C%2020.2071%2042.3320%2019.3868%2041.4649%2019.3868%2040.4336%20C%2019.3868%2039.9180%2019.5977%2039.4961%2019.9493%2039.1445%20L%2025.3399%2033.7071%20L%2019.9493%2028.2461%20C%2019.5977%2027.9180%2019.3868%2027.4727%2019.3868%2026.9571%20C%2019.3868%2025.9492%2020.2305%2025.1289%2021.2618%2025.1289%20C%2021.7540%2025.1289%2022.1758%2025.3398%2022.5274%2025.6680%20L%2027.9883%2031.1055%20L%2033.4727%2025.6445%20C%2033.8712%2025.2930%2034.2696%2025.0820%2034.7383%2025.0820%20C%2035.7930%2025.0820%2036.6368%2025.9023%2036.6368%2026.9571%20C%2036.6368%2027.4492%2036.4258%2027.8477%2036.0508%2028.2227%20L%2030.6368%2033.7071%20L%2036.0274%2039.1211%20C%2036.3790%2039.4961%2036.6134%2039.8945%2036.6134%2040.4336%20C%2036.6134%2041.4649%2035.7696%2042.3320%2034.7383%2042.3320%20C%2034.1993%2042.3320%2033.7774%2042.0742%2033.4258%2041.7461%20L%2027.9883%2036.3320%20L%2022.5508%2041.7461%20C%2022.2227%2042.0977%2021.7540%2042.3320%2021.2618%2042.3320%20Z'/%3e%3c/g%3e%3c/svg%3e",A="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM16.0303%208.96967C16.3232%209.26256%2016.3232%209.73744%2016.0303%2010.0303L11.0303%2015.0303C10.7374%2015.3232%2010.2626%2015.3232%209.96967%2015.0303L7.96967%2013.0303C7.67678%2012.7374%207.67678%2012.2626%207.96967%2011.9697C8.26256%2011.6768%208.73744%2011.6768%209.03033%2011.9697L10.5%2013.4393L12.7348%2011.2045L14.9697%208.96967C15.2626%208.67678%2015.7374%208.67678%2016.0303%208.96967Z'%20fill='%231C274C'/%3e%3c/g%3e%3c/svg%3e",B="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20opacity='0.15'%20d='M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20fill='%23193d5d'/%3e%3cpath%20d='M16%208L8%2016M8.00001%208L16%2016M21%2012C21%2016.9706%2016.9706%2021%2012%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012Z'%20stroke='%23193d5d'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",u=G=>(n2("data-v-a8ee6c04"),G=G(),r2(),G),v2=u(()=>t("h1",null,"My list",-1)),p2={class:"anime-container"},g2={key:0,class:"anime-card-wrap"},h2={key:0},_2={class:"completed-div"},w2=u(()=>t("span",null,"Finito: ",-1)),C2=["src"],m2={class:"dates-div"},k2={key:0},f2=u(()=>t("br",null,null,-1)),x2={key:1},V2={key:1,class:"plan-to-watch-div"},S2=u(()=>t("span",null," Da vedere ?",-1)),G2=["src"],y2={key:2,class:"comment-div"},L2=["data-comment"],D2=u(()=>t("img",{height:"25px",src:d2,alt:""},null,-1)),T2={key:0,class:"show-comment"},R2={class:"edit-div"},b2=["onClick"],M2={key:1,class:"edit-div-wrapper"},I2={key:0,class:"edit-div"},B2=["onClick","src"],U2={class:"title-div"},j2={key:1,class:"check-if-plan-to-watch"},E2={class:"checkbox-wrapper-58"},P2={class:"switch"},F2=u(()=>t("span",{class:"slider"},null,-1)),Z2=u(()=>t("h4",null,"Anime da vedere",-1)),N2={key:2,class:"add-values-div"},A2=u(()=>t("div",{class:"episodes-title-div"},[t("h4",null,"Episodi guardati")],-1)),$2={class:"add-episodes-div"},O2={key:3,class:"add-values-div"},W2=u(()=>t("div",{class:"rating-title-div"},[t("h4",null,"Voto")],-1)),Y2={class:"rating-div"},z2={key:4,class:"edit-comment-div"},H2={class:"text-area-div"},q2={key:1},Q2={key:5,class:"date-div"},J2=u(()=>t("h5",null,"Data di inizio (opz.)",-1)),K2={key:0},X2={key:6,class:"submit-anime-div"},e0={key:7,class:"remove-anime-div","data-remove":"Rimuovi dalla lista"},t0={key:8,class:"loader-wrapper"},o0=u(()=>t("div",{class:"loader"},null,-1)),s0=[o0],i0={__name:"MyList",setup(G){const $=a2(),O=d($.params.userId),U=d(!1),v=d(null),W=d(!1),_=d(null),n=d(0),p=d(1),w=d(!1),C=d(""),m=d(""),h=d(!1),T=d(null),r=d(!1),y=d(!1),k=d(""),R=d(0),f=d(null),b=()=>{n.value=0,p.value=1,w.value=!1,C.value="",m.value="",h.value=!1,k.value="",h.value=!1},Y=()=>{y.value=!y.value},z=()=>{R.value=k.value.length},j=e=>e.split("-").reverse().join("-"),E=async(e,a)=>{if(_.value===e){_.value=null,b();return}_.value=e,b(),T.value=v.value[e].ID,n.value=v.value[e].episodes,p.value=v.value[e].rating,k.value=v.value[e].comment,R.value=v.value[e].comment.length,C.value=j(v.value[e].starting_date),m.value=j(v.value[e].ending_date),h.value=v.value[e].plan_to_watch,r.value=!0,await e2(a),x(f.value.attributes.episodeCount),r.value=!1},x=e=>{if(n.value>e-1||n.value==="Finito"){w.value=!0,n.value!=="Finito"&&(n.value="Finito"),f.value.attributes.episodeCount===1&&(n.value=1);return}w.value=!1},H=e=>{if(n.value>=e-1||n.value==="Finito"){n.value="Finito",x(e);return}x(e),n.value++},q=e=>{if(n.value<=0){n.value=0,x(e);return}if(n.value==="Finito"){n.value=e-1,x(e);return}n.value--,x(e)},Q=()=>{if(p.value>=10){p.value=10;return}p.value+=.5},J=()=>{if(p.value<=1){p.value=1;return}p.value-=.5},M=async()=>{try{const e=await L.get(`https://anime-vue-go-client-production.up.railway.app/users/${O.value}/anime`,{withCredentials:!0});e.status>=200&&e.status<=209&&(v.value=e.data.sort((a,l)=>a.title.localeCompare(l.title)),_.value=null,r.value=!1)}catch(e){console.error(e)}},P=e=>e.split("-").reverse().join("-"),K=async()=>{try{r.value=!0;const e=await L.put(`https://anime-vue-go-client-production.up.railway.app/update/anime/${T.value}`,{episodes:n.value==="Finito"?f.value.attributes.episodeCount:n.value,rating:p.value,finished:w.value,starting_date:C.value!==""?P(C.value):"",ending_date:m.value!==""&&w.value?P(m.value):"",plan_to_watch:h.value,comment:k.value},{withCredentials:!0});e.status>=200&&e.status<=209&&(M(),_.value=null),r.value=!1}catch(e){console.error(e)}},X=async()=>{try{r.value=!0;const e=await L.delete(`https://anime-vue-go-client-production.up.railway.app/delete/anime/${T.value}`,{withCredentials:!0});e.status>=200&&e.status<=209&&M()}catch(e){console.error(e),r.value=!1}};o2(()=>{U.value||(U.value=!0,M())});const e2=async e=>{try{const a=await L.get(`https://kitsu.io/api/edge/anime?filter[id]=${e}&page[limit]=1`);f.value=a.data.data[0]}catch(a){console.error(a)}};return(e,a)=>(s(),o("section",null,[v2,t("div",p2,[(s(!0),o(s2,null,i2(v.value,(l,V)=>(s(),o("div",{key:V,class:"anime-card"},[_.value!==V?(s(),o("div",g2,[t("h2",null,g(l.title),1),t("div",null,[t("span",null," Episodi guardati: "+g(l.episodes),1)]),l.plan_to_watch?i("",!0):(s(),o("div",h2,[t("span",null," Voto assegnato: "+g(l.rating),1)])),t("div",_2,[w2,t("img",{height:"20px",src:l.finished?S(A):S(B),alt:""},null,8,C2)]),t("div",m2,[l.starting_date!==""?(s(),o("span",k2," Inizio: "+g(l.starting_date),1)):i("",!0),f2,!l.plan_to_watch&&l.finished?(s(),o("span",x2," Fine: "+g(l.ending_date),1)):i("",!0)]),!l.finished&&l.plan_to_watch?(s(),o("div",V2,[S2,F("  "),t("img",{height:"20px",src:l.plan_to_watch?S(A):S(B),alt:""},null,8,G2)])):i("",!0),l.comment!==""?(s(),o("div",y2,[t("button",{class:"comment-button","data-comment":l.comment},[F(" Nota   "),D2],8,L2),W.value?(s(),o("p",T2,g(l.comment),1)):i("",!0)])):i("",!0),t("div",R2,[t("img",{onClick:c=>E(V,l.anime_id),height:"25px",src:c2,alt:""},null,8,b2)])])):i("",!0),_.value===V?(s(),o("div",M2,[r.value?i("",!0):(s(),o("div",I2,[t("img",{onClick:c=>E(V),height:"25px",src:S(B),alt:"cross-icon"},null,8,B2)])),t("div",U2,[t("h2",null,g(l.title),1)]),r.value?i("",!0):(s(),o("div",j2,[t("div",E2,[t("label",P2,[D(t("input",{onClick:b,type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=c=>h.value=c)},null,512),[[l2,h.value]]),F2])]),Z2])),!h.value&&!r.value?(s(),o("div",N2,[A2,t("div",$2,[t("img",{height:"30px",src:Z,onClick:a[1]||(a[1]=c=>q(f.value.attributes.episodeCount)),alt:"minus-svg"}),t("span",null,g(n.value),1),t("img",{height:"25px",src:N,onClick:a[2]||(a[2]=c=>H(f.value.attributes.episodeCount)),alt:"plus-svg"})])])):i("",!0),!h.value&&!r.value?(s(),o("div",O2,[W2,t("div",Y2,[t("img",{height:"30px",src:Z,onClick:J,alt:"minus-svg"}),t("span",null,g(p.value),1),t("img",{height:"25px",src:N,onClick:Q,alt:"plus-svg"})])])):i("",!0),r.value?i("",!0):(s(),o("div",z2,[t("button",{onClick:Y},"Nota"),t("div",H2,[y.value?D((s(),o("textarea",{key:0,onInput:z,maxlength:"200","onUpdate:modelValue":a[3]||(a[3]=c=>k.value=c),name:"comment",id:"comment",cols:"20",rows:"5",placeholder:"Questo anime mi è piaciuto/non mi è piaciuto perché..."},`\r
              `,544)),[[I,k.value]]):i("",!0),y.value?(s(),o("span",q2,g(R.value)+"/200",1)):i("",!0)])])),r.value?i("",!0):(s(),o("div",Q2,[J2,D(t("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=c=>C.value=c),min:"2000-01-01",max:"2025-12-31"},null,512),[[I,C.value]]),w.value?(s(),o("h5",K2,"Data di fine (opz.)")):i("",!0),w.value?D((s(),o("input",{key:1,type:"date","onUpdate:modelValue":a[5]||(a[5]=c=>m.value=c),min:"2000-01-01",max:"2025-12-31"},null,512)),[[I,m.value]]):i("",!0)])),r.value?i("",!0):(s(),o("div",X2,[t("button",{onClick:K},"Modifica")])),r.value?i("",!0):(s(),o("div",e0,[t("img",{onClick:X,height:"30px",src:u2,alt:""})])),r.value?(s(),o("div",t0,s0)):i("",!0)])):i("",!0)]))),128))])]))}},l0=t2(i0,[["__scopeId","data-v-a8ee6c04"]]);export{l0 as default};
